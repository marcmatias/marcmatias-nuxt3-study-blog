import{_ as h,a as v}from"./PostTags.8beaf996.mjs";import{a as f,b as y,H as x,k as I,j as b,o as m,c as w,C,I as a,J as N,u as o,G as _,F as S,K as $,f as k,L as B,M as A,N as H}from"./entry.04926ed9.mjs";import{_ as V}from"./Author.vue_vue_type_script_setup_true_lang.daa849f3.mjs";import{u as j}from"./asyncData.2e68f489.mjs";import{q}from"./query.19d3968d.mjs";import{_ as D}from"./_plugin-vue_export-helper.7287ed4b.mjs";import"./utils.41cc6a8b.mjs";import"./json.5e9b3df1.mjs";import"./utils.e766e4ed.mjs";const E=n=>(A("data-v-6c9f9f30"),n=n(),H(),n),G={class:"post-title"},L={class:"post-title__text"},M={class:"post content-box"},P={class:"post__header"},R=["src","alt"],F={class:"post__footer"},J=E(()=>a("div",{class:"post-comments"},null,-1)),K=f({__name:"[...slug]",async setup(n){let c,u,e="/blog/"+y().params.slug.toString().replace(/,/g,"/");e=e.endsWith("/")?e.substring(0,e.length-1):e;const{data:t}=([c,u]=x(()=>j(e,()=>q(e).findOne(),"$ij35HG41ph")),c=await c,u(),c);return I(()=>{var r;if(!t.value)return[];const p=(r=t.value.excerpt)==null?void 0:r.children;if(!p)return[];const i=[],l=["h2","h3","h4","h5","h6"];return p.forEach(s=>{l.includes(s.tag)&&i.push({id:s.props.id,title:s.props.id.toString().replace(/-/g," "),depth:Number(s.tag.replace(/h/g,""))})}),i}),b({title:t.value.title,meta:[{name:"description",content:t.value.description},{property:"og:image",content:`https://marcmatias.github.io/images/covers/${t.value.coverImage}`},{property:"og:title",content:t.value.title},{property:"og:description",content:t.value.description},{property:"twitter:image",content:`https://marcmatias.github.io/images/covers/${t.value.coverImage}`},{property:"twitter:title",content:t.value.title},{property:"twitter:description",content:t.value.description}]}),(p,i)=>{const l=h,r=k,s=v,d=V,g=B;return m(),w(g,null,{default:C(()=>[a("div",G,[a("h1",L,N(o(t).title),1),_(l,{post:o(t)},null,8,["post"])]),a("div",M,[a("div",P,[o(t).coverImage?(m(),S("img",{key:0,class:"post-card__image",src:`/images/covers/${o(t).coverImage}`,alt:o(t).alt},null,8,R)):$("",!0)]),_(r,{class:"post__content",value:o(t)},null,8,["value"]),a("div",F,[_(s,{post:o(t)},null,8,["post"])])]),J,_(d,{class:"post-author"})]),_:1})}}});const tt=D(K,[["__scopeId","data-v-6c9f9f30"]]);export{tt as default};
