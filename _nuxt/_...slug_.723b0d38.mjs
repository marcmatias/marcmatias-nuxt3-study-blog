import{_ as h,a as v}from"./PostTags.8beaf996.mjs";import{a as f,b as y,H as x,k as I,j as w,o as m,c as b,C,I as a,J as N,u as o,G as _,F as S,K as $,f as k,L as B,M as j,N as A}from"./entry.04926ed9.mjs";import{_ as E}from"./Author.vue_vue_type_script_setup_true_lang.daa849f3.mjs";import{u as P}from"./asyncData.2e68f489.mjs";import{q as V}from"./query.19d3968d.mjs";import{_ as q}from"./_plugin-vue_export-helper.7287ed4b.mjs";import"./utils.41cc6a8b.mjs";import"./json.5e9b3df1.mjs";import"./utils.e766e4ed.mjs";const D=n=>(j("data-v-09609e7e"),n=n(),A(),n),H={class:"post-title"},L={class:"post-title__text"},M={class:"post content-box"},R={class:"post__header"},T=["src","alt"],F={class:"post__footer"},G=D(()=>a("div",{class:"post-comments"},null,-1)),J=f({__name:"[...slug]",async setup(n){let c,u,e="/project/"+y().params.slug.toString().replace(/,/g,"/");e=e.endsWith("/")?e.substring(0,e.length-1):e;const{data:t}=([c,u]=x(()=>P(e,()=>V(e).findOne(),"$EwbjdTPcol")),c=await c,u(),c);return I(()=>{var r;if(!t.value)return[];const p=(r=t.value.excerpt)==null?void 0:r.children;if(!p)return[];const i=[],l=["h2","h3","h4","h5","h6"];return p.forEach(s=>{l.includes(s.tag)&&i.push({id:s.props.id,title:s.props.id.toString().replace(/-/g," "),depth:Number(s.tag.replace(/h/g,""))})}),i}),w({title:t.value.title,meta:[{name:"description",content:t.value.description},{property:"og:image",content:`https://marcmatias.github.io/images/covers/${t.value.coverImage}`},{property:"og:title",content:t.value.title},{property:"og:description",content:t.value.description},{property:"twitter:image",content:`https://marcmatias.github.io/images/covers/${t.value.coverImage}`},{property:"twitter:title",content:t.value.title},{property:"twitter:description",content:t.value.description}]}),(p,i)=>{const l=h,r=k,s=v,d=E,g=B;return m(),b(g,null,{default:C(()=>[a("div",H,[a("h1",L,N(o(t).title),1),_(l,{post:o(t)},null,8,["post"])]),a("div",M,[a("div",R,[o(t).coverImage?(m(),S("img",{key:0,class:"post-card__image",src:`/images/covers/${o(t).coverImage}`,alt:o(t).alt},null,8,T)):$("",!0)]),_(r,{class:"post__content",value:o(t)},null,8,["value"]),a("div",F,[_(s,{post:o(t)},null,8,["post"])])]),G,_(d,{class:"post-author"})]),_:1})}}});const tt=q(J,[["__scopeId","data-v-09609e7e"]]);export{tt as default};
